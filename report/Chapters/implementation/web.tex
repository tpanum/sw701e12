	
% Hvordan er web applikationen opbygget?
%	Rails framework
%	MySQL database
% Hvilke gems bruger vi, og hvordan bruges de?
%	mysql2
%	daemons-rails
%	eventmachine
%	sht_rails
%	swfobject-rails
% Sp√¶ndende ting
%	CRUD
%	Integration af streaming i web-applikationen
%	Privileges

\section{Web-interface}
The web-interface is implemented using Rails as described in Section~\ref{sec:programming_language}.
This framework enforces a number of standards that must be followed.
The most significant is CRUD, mentioned in Section~\ref{sec:master}.
The web-interface is implemented using the design described in Section~\ref{sec:master} and Appendix~\ref{app:controller_actions}.

%\subsection{Gems for Ruby on Rails}
A number of Rails-specific libraries, named \emph{Gems} \citep{Rails_Gems}, are used in \projectname{}.
Gems are written and maintained by the Rails community.
The gems used in \projectname{} are: \emph{mysql2}, \emph{daemons-rails}, \emph{eventmachine}, \emph{sht\_rails}, and \emph{swfobject-rails}.

In \projectname{} the relational database MySQL database to store information in.
Ruby and Rails is not natively able to connect to a MySQL database.
\emph{mysql2} provides an interface for Rails which is used for connecting with the MySQL database \citep{Rails_mysql2}.

The \emph{daemons-rails}†\citep{Rails_daemons_rails} is used for the daemon running on \deno{M}.
Ruby has native support for daemons.
\emph{daemons-rails} was chosen as opposed to these, as \emph{daemons-rails} can use the model in the rails app and communicate with the database. 
This used to create \emph{drone} objects whenever a \deno{S} sends an initialization message to \deno{M}.

The \emph{eventmachine} Gem \citep{Rails_eventmachine} provides an abstraction for communication over TCP/IP.
\emph{eventmachine} is used to handle the communication between \deno{M} and \deno{S}.
This involves both the initialization messages from \deno{S} to \deno{M} and the communication used for session keys.

%The daemon running on \deno{M} takes this request and uses the eventmachine to connect to the \deno{S} associated with the drone that the user wishes to interact with, in order to sync session keys and verify that the connection between the user and drone is valid.

\ac{SHT\_Rails} \citep{Rails_sht_rails} enables the use of Handlebars\citep{handlebars} templates in Rails.
This allows for sharing a HTML template between Rails and Javascript.
%This is used in the view, where AJAX is implemented as described in Section~\ref{sec:browser_technologies}

The \emph{SWFObject} Gem \citep{Rails_swfobject} is used to display a swf flash object in the view of \projectname{}.
This is needed to implement the Flash application needed to display the drone's video feed and to send control commands to it. \\

%All of the listed Gems are libraries written by third party that provides some functionality that was needed in \projectname{}.

