We model the sales on a per sale basis. We use two fact tables to keep track of the information necessary, Table~\ref{tab:salesFactTable} and Table~\ref{tab:balanceFactTable}, representing the value of each sale and the balance of members, respectively. Table~\ref{tab:salesFactTable} has the dimensions Time, Product, Location, and Member, which will be explained momentarily. Table~\ref{tab:balanceFactTable} has the dimensions Time and Member. We chose to create a fact table for balance instead of having it within the Member dimension, as the balance will change with every purchase and thus our Member dimension would grow as quickly as our fact table. This is because balance is a rapidly changing dimension.


\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|l|l|l|}
        \hline
        Time\_id(FK) & Product\_id(FK) & Location\_id(FK) & Member\_id(FK) & Sale \\ \hline
    \end{tabular}
    \caption{Fact Table for Sales}
    \label{tab:salesFactTable}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|l|}
        \hline
        Time\_id(FK) & Member\_id(FK) & Balance \\ \hline
    \end{tabular}
    \caption{Fact Table for Balance}
    \label{tab:balanceFactTable}
\end{table}


The Time dimension is shown in Table~\ref{tab:timeDimensionTable}, and contains nothing special - simply a reference to when different facts happen, and goes with the Date Dimension shown in Table~\ref{tab:dateDimensionTable}. The Product dimension is shown in Table~\ref{tab:productDimensionTable} and contains the slowly changing Price, since products' price might increase or decrease over time. This may or may not be implemented depending on time. The Location dimension shown in Table~\ref{tab:locationDimensionTable} keeps track of where/in which context every purchase has been made. Lastly the Member dimension shown in Table~\ref{tab:memberDimensionTable} contains every member within the fclub. Each member has an id in the system, which we will present with the UserId, this is because surrogate keys should always be used, in case updates might happen.

\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|l|l|}
        \hline
        Time\_id(PK) & Hour & Minute & Second \\ \hline
    \end{tabular}
    \caption{Time Dimension Table}
    \label{tab:timeDimensionTable}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|l|l|l|l|}
        \hline
        Date\_id(PK) & Year & Month & Week & DayOfWeek & Day \\ \hline
    \end{tabular}
    \caption{Date Dimension Table}
    \label{tab:dateDimensionTable}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|l|}
        \hline
        Product\_id(PK) & Name & Price \\ \hline
    \end{tabular}
    \caption{Product Dimension Table}
    \label{tab:productDimensionTable}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|l|}
        \hline
        Location\_id(PK) & Name & Room Id \\ \hline
    \end{tabular}
    \caption{Location Dimension Table}
    \label{tab:locationDimensionTable}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{|l|l|l|l|}
        \hline
        Member\_id(PK) & UserID & Active & Year \\ \hline
    \end{tabular}
    \caption{Member Dimension Table}
    \label{tab:memberDimensionTable}
\end{table}
